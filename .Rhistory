plot(eurodist)
par(mfrow = c(1,2))
plot(eurodist)
loc <- cmdscale(eurodist)
x <- loc[, 1]
y <- -loc[, 2] # reflect so North is at the top
## note asp = 1, to ensure Euclidean distances are represented correctly
plot(x, y, xlab = "", ylab = "", asp = 1, axes = FALSE,
main = "cmdscale(eurodist)")
text(x, y, rownames(loc), cex = 0.6)
?eurodist
devtools::document(roclets = c("collate","rd"))
library(cmdline.arguments)
isflag
#' arguments, `"N"` or `"N+"` arguments.
#' As a slight note this does mean that `narg = 1` is equivalent to `narg = "?"`
#' as the behaviour is fully controlled by `required = TRUE/FALSE`.
#'
#' If the argument is a flag (indicated by setting `flag = TRUE`) both `narg`
#' and `required` are ignored internally.
#'
#' FIX ME:: add description of remaining arguments:
#'
#' @note if nchar(sflag) > nchar(lflag) the arguments are switched internally.
createArgument <- function(sflag,
lflag, name, narg, flag = FALSE, required = TRUE){
res <- .Call("_gen_class", sflag, lflag, name, narg, flag, required)
class(res) <- c("cmd_arg", class(res))
res
}
rm(createArgument)
devtools::document(roclets = c("collate","rd"))
library(cmdline.arguments)
file.show("C:/Users/olive/Git_repos/cmdline.arguments/man/setUnparsedArgs.Rd")
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
f
rm(f)
gc()
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
setUnparsedArgs(f, c("hello", "world"))
gc()
rm(f)
gc()
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
setUnparsedArgs(f, c("hello", "world"))
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
setUnparsedArgs(f, c("hello", "world"))
base
environment("package:base")
parent.frame()
globalenv()
unclass(globalenv())
tracemem(globalenv())
library(cmdline.arguments)
## Test script for argument
rm(f)
f <- createArgument('h', 'help', 'help', '3', TRUE)
getflags(f)
getsflag(f)
getlflag(f)
getnarg(f)
getnargparsed(f)
# should be true
isflag(f)
isrequired(f)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
isrequired(f)
# should be true
isflag(f)
args <- c("help", "me")
setUnparsedArgs(f, args)
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
isrequired(f)
# should be true
isflag(f)
f <- createArgument('h', 'help', 'help', '3', TRUE, TRUE)
isrequired(f)
getname(f)
# should be true
isflag(f)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
# should be true
isflag(f)
isrequired(f)
library(cmdline.arguments)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
getflags(f)
# should be true
isflag(f)
isrequired(f)
library(cmdline.arguments)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
getflags(f)
getsflag(f)
getlflag(f)
getnarg(f)
getnargparsed(f)
# should be true
isflag(f)
isrequired(f)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
getflags(f)
getsflag(f)
getlflag(f)
getnarg(f)
getnargparsed(f)
# should be true
isflag(f)
isrequired(f)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
library(cmdline.arguments)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
getflags(f)
getsflag(f)
getlflag(f)
getnarg(f)
getnargparsed(f)
# should be true
isflag(f)
isrequired(f)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
getflags(f)
getsflag(f)
getlflag(f)
getnarg(f)
getnargparsed(f)
# should be true
isflag(f)
isrequired(f)
getname(f)
library(cmdline.arguments)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
getflags(f)
getsflag(f)
getlflag(f)
getnarg(f)
getnargparsed(f)
# should be true
isflag(f)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
library(cmdline.arguments)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
getflags(f)
getsflag(f)
getlflag(f)
getnarg(f)
getnargparsed(f)
# should be true
isflag(f)
isrequired(f)
isflag(f)
isrequired(f)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
rm(f)
gc()
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
# should be true
isflag(f)
isrequired(f)
library(cmdline.arguments)
## Test script for argument
rm(f)
gc()
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
# should be true
isflag(f)
isrequired(f)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', FALSE, TRUE)
# should be true
isflag(f)
isrequired(f)
f <- createArgument('h', 'help', 'help', '3', FALSE, FALSE)
# should be true
isflag(f)
isrequired(f)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
# should be true
isflag(f)
isrequired(f)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
# should be true
isflag(f)
isrequired(f)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
# should be true
isflag(f)
isrequired(f)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
# should be true
isflag(f)
isrequired(f)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
# should be true
isflag(f)
isrequired(f)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
# should be true
isflag(f)
isrequired(f)
library(cmdline.arguments)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
# should be true
isflag(f)
isrequired(f)
f2 <- createArgument('h', name = 'help', narg = '3', flag = TRUE, required = FALSE)
debugonce(createArgument)
S
f2 <- createArgument('h', name = 'help', narg = '3', flag = TRUE, required = FALSE)
debugonce(createArgument)n
rm(f)
rm(f2)
gc()
library(cmdline.arguments)
## Test script for argument
rm(f)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
isflag(f)
isrequired(f)
f2 <- createArgument('h', name = 'help', narg = '3', flag = TRUE, required = FALSE)
isflag(f)
getname(f)
isrequired(f)
## Test script for argument
rm(f, f2)
gc()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
f2 <- createArgument('h', name = 'help', narg = '3', flag = TRUE, required = FALSE)
isflag(f)
isrequired(f)
isflag(f)
isrequired(f)
rm(f)
isflag(f2)
isrequired(f2)
rm(f)
rm(f2)
gc()
f <- createArgument('h', 'help', 'help', '3', TRUE, FALSE)
isflag(f)
isrequired(f)
f2 <- createArgument('h', name = 'help', narg = '3', flag = TRUE, required = FALSE)
isflag(f2)
isrequired(f2)
rm(f)
rm(f2)
gc()
getwd()
library(cmdline.arguments)
f <- createArgument('h', 'help', 'help', '3-', TRUE, FALSE)
args <- c("help", "me")
setUnparsedArgs(f, args)
tryCatch(setUnparsedArgs(f, args), error = print)
setUnparsedArgs(f, args)
f <- createArgument('h', 'help', 'help', '3+', TRUE, FALSE)
setUnparsedArgs(f, args)
rm(f)
library(cmdline.arguments)
?require
require("lme4", quiet = TRUE)
lag(c(1,2,3))
lag(c(1,2,3)) - c(1, 2, 3)
?lag
lead
lag(ldeaths, 12)
ldeaths
dplyr::lead(c(1,2,3))
dplyr::lead(c(1,2,3), default = 0)
?lag
lag(ldeaths, -1)
class(ldeaths)
NA == NA
diff(c(1,2,3))
diff(c(NA, 1,2,3))
library(data.table)
fread("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA")
time <- fread("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA")
n <- nrow(df)
df$change <- with(df, c(FALSE, AirWayStatus[seq(2, n)] == AitWayStatus[seq(n -1)]))
setDF(df)
time <- fread("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA")
df <- fread("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA")
setDF(df)
df$change <- with(df, c(FALSE, AirWayStatus[seq(2, n)] == AitWayStatus[seq(n -1)]))
df
names(df)
df$change <- with(df, c(FALSE, AirwayStatus[seq(2, n)] == AirwayStatus[seq(n -1)]))
n
n <- nrow(df)
n
df$change <- with(df, c(FALSE, AirwayStatus[seq(2, n)] == AirwayStatus[seq(n -1)]))
df
# estimate the length of time since last change
df$time_between_change[df$change] <- with(df, diff(c(NA, Time[change])))
with(df, diff(c(NA, Time[change])))
df$Time[df$change]
class(df$Time)
df$Time <- as.POSIXct(df$Time)
df
# estimate the length of time since last change
df$time_between_change[df$change] <- with(df, diff(c(NA, Time[change])))
df
df$change <- with(df, c(FALSE, AirwayStatus[seq(n - 1)] == AirwayStatus[seq(2, n)]))
df
# estimate the length of time since last change
df$time_between_change[df$change] <- with(df, diff(c(NA, Time[change])) / 3600)
df
df$change <- with(df, !c(TRUE, AirwayStatus[seq(n - 1)] == AirwayStatus[seq(2, n)]))
df
# estimate the length of time since last change
df$hours_between_change[df$change] <- with(df, diff(c(NA, Time[change])) / 3600)
df
df$change <- with(df, c(FALSE, AirwayStatus[seq(n - 1)] != AirwayStatus[seq(2, n)]))
# estimate the length of time since last change
df$hours_between_change[df$change] <- with(df, diff(c(NA, Time[change])) / 3600)
df
df <- read.table("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA")
df <- scan("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA")
?read.table
df <- read.table("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA", header = TRUE, sep = "\t")
df <- readr::read_table("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA", header = TRUE, sep = "\t")
?readr::read_table
df <- readr::read_table("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA")
df
df <- readr::read_table2("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA")
df
df <- fread("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA")
df
# Read table: (Could get read.table to work)
library(data.table)
df <- fread("Time 	AirwayStatus
2020/01/01 00:00 	ETT/LMA
2020/01/01 01:00 	ETT/LMA
2020/01/01 02:00 	Own Airway
2020/01/01 03:00 	Own Airway
2020/01/01 04:00 	ETT/LMA")
setDF(df)
# Convert time to a date format
df$Time <- as.POSIXct(df$Time)
n <- nrow(df)
# Find changes
df$change <- with(df, c(FALSE, AirwayStatus[seq(n - 1)] != AirwayStatus[seq(2, n)]))
# estimate the length of time since last change
df$hours_between_change[df$change] <- with(df, diff(c(NA, Time[change])) / 3600)
df
summary(mtcars)
mtcars$cyl <- factor(mtcars$cyl)
lm(hp ~ cyl * disp - 1, data = mtcars)
summary(lm(hp ~ cyl * disp - 1, data = mtcars))
summary(lm(hp ~ (cyl - 1) * disp - 1, data = mtcars))
print.lm
?print.lm
class(lm(hp ~ cyl * disp - 1, data = mtcars))
class(summary(lm(hp ~ cyl * disp - 1, data = mtcars)))
summary.lm
?summary.lm
help(summary.lm)
sum <- summary(lm(hp ~ cyl * disp - 1, data = mtcars))
sum$coefficients
sum$coef
library(sjPlot)
devtools::install_github("strengejacke/strengejacke")
tab_model(lm(hp ~ cyl * disp - 1, data = mtcars))
tab_model(lm(hp ~ cyl * disp - 1, data = mtcars),
pred.labels = c("cyl[4]", "cyl[6]", "cyl[8]",
"cyl[4] * disp", "cyl[6] * disp", "cyl[8] * disp"))
is.na(c(1,2,3))
is.na(list(1,2,3))
is.na(data.frame(1,2,3))
is.na(data.frame(c(1,2),c(2,3),c(3,4)))
